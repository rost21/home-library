let express,uuid,cors,dayjs,STATUSES;_c89‍.w("express",[["default",["express"],function(v){express=v}]]);_c89‍.w("uuid",[["v5",["uuid"],function(v){uuid=v}]]);_c89‍.w("cors",[["default",["cors"],function(v){cors=v}]]);_c89‍.w("dayjs",[["default",["dayjs"],function(v){dayjs=v}]]);_c89‍.w("./constants",[["STATUSES",["STATUSES"],function(v){STATUSES=v}]]);





const app = express();
app.use(cors());
app.use(express.json());
app.use('/public', express.static('public'));

app.set('view engine', 'pug');
app.set('views', './views');

const initialState = {
  books: [
    {
      id: uuid(),
      name: 'Harry Potter and the philisopher\'s stone',
      author: 'J. K. Rowling',
      publishedDate: '1997-06-26',
      status: STATUSES.AVAILABLE
    },
  ],
};

app.get('/root', (req, res) => {
  return [];
});

app.get('/getBooks', (req, res) => {
  console.log('/getBooks')
  return res.status(200).json(initialState.books);
});

app.post('/addBook', (req, res) => {
  _c89‍.g.console.log('req: ', req.body);
  
});

// app.get("*", (req, res)=>{
//   res.status(404); // Ошибка - нет такой страницы res.end("Page not found");
// });

/* Отображение страницы с шаблоном mypage.pug из папки views */ 
app.get('/', (req, res) => {
  res.render('main', { title: 'Hey', message: 'Hello there!'});
});

const port = 3001;

app.listen(port, () => {
  console.log(`Server started on http://localhost:${port}`);
});
